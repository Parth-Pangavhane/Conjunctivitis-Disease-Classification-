[2023-09-24 10:56:48,129: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://192.168.52.55:80]
[2023-09-24 10:56:48,129: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2023-09-24 10:57:13,465: INFO: _internal: 127.0.0.1 - - [24/Sep/2023 10:57:13] "GET / HTTP/1.1" 200 -]
[2023-09-24 10:57:52,608: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "c:\users\realme\python\Conjunctivitis-disease-classification-projects\src\cnnClassifier\pipeline\predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\legacy\save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts\training\model.h5
[2023-09-24 10:57:52,620: INFO: _internal: 127.0.0.1 - - [24/Sep/2023 10:57:52] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2023-09-24 11:00:34,806: INFO: _internal: 192.168.52.120 - - [24/Sep/2023 11:00:34] "GET / HTTP/1.1" 200 -]
[2023-09-24 11:00:50,238: INFO: _internal: 192.168.52.120 - - [24/Sep/2023 11:00:50] "GET / HTTP/1.1" 200 -]
[2023-09-24 11:01:16,904: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "c:\users\realme\python\Conjunctivitis-disease-classification-projects\src\cnnClassifier\pipeline\predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\legacy\save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts\training\model.h5
[2023-09-24 11:01:16,904: INFO: _internal: 192.168.52.120 - - [24/Sep/2023 11:01:16] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2023-09-24 11:03:55,354: INFO: _internal: 127.0.0.1 - - [24/Sep/2023 11:03:55] "GET / HTTP/1.1" 200 -]
[2023-09-24 11:08:16,144: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "c:\users\realme\python\Conjunctivitis-disease-classification-projects\src\cnnClassifier\pipeline\predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\legacy\save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts\training\model.h5
[2023-09-24 11:08:16,148: INFO: _internal: 127.0.0.1 - - [24/Sep/2023 11:08:16] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2023-09-26 21:05:27,747: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://192.168.52.55:80]
[2023-09-26 21:05:27,753: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2023-09-26 21:05:38,561: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:05:38] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:08:35,413: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:08:35] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:08:36,442: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:08:36] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:08:37,071: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:08:37] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:11:00,407: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:11:00] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:11:28,419: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://192.168.52.55:80]
[2023-09-26 21:11:28,419: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2023-09-26 21:11:47,027: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:11:47] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:11:52,544: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:11:52] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:13:37,714: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://192.168.52.55:80]
[2023-09-26 21:13:37,714: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2023-09-26 21:13:42,457: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:13:42] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:13:46,086: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:13:46] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:14:12,448: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://192.168.52.55:80]
[2023-09-26 21:14:12,448: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2023-09-26 21:14:24,185: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:14:24] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:14:27,471: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:14:27] "GET / HTTP/1.1" 200 -]
[2023-09-26 21:14:36,707: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "c:\users\realme\python\Conjunctivitis-disease-classification-projects\src\cnnClassifier\pipeline\predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "D:\Program Files\Anaconda\envs\cnncls\lib\site-packages\keras\src\saving\legacy\save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts\training\model.h5
[2023-09-26 21:14:36,779: INFO: _internal: 127.0.0.1 - - [26/Sep/2023 21:14:36] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2023-09-30 09:49:58,374:INFO:main:>>>>>> stage Data Ingestion stage started <<<<<<]
[2023-09-30 09:49:58,388:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 09:49:58,399:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 09:49:58,402:INFO:common:created directory at: artifacts]
[2023-09-30 09:49:58,403:INFO:common:created directory at: artifacts/data_ingestion]
[2023-09-30 09:51:35,836:INFO:data_ingestion:artifacts/data_ingestion/data.zip download: with following info: 
 Connection: close
Content-Length: 11616915
Cache-Control: max-age=300
Content-Security-Policy: default-src 'none'; style-src 'unsafe-inline'; sandbox
Content-Type: application/zip
ETag: "adf745abc03891fe493c3be264ec012691fe3fa21d861f35a27edbe6d86a76b1"
Strict-Transport-Security: max-age=31536000
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-XSS-Protection: 1; mode=block
X-GitHub-Request-Id: C0F4:1059:7649A7:946700:6517A22F
Accept-Ranges: bytes
Date: Sat, 30 Sep 2023 04:21:07 GMT
Via: 1.1 varnish
X-Served-By: cache-maa10249-MAA
X-Cache: MISS
X-Cache-Hits: 0
X-Timer: S1696047601.031214,VS0,VE66027
Vary: Authorization,Accept-Encoding,Origin
Access-Control-Allow-Origin: *
Cross-Origin-Resource-Policy: cross-origin
X-Fastly-Request-ID: d9db8b51e7166cef1dffed8a0f7863653af05d66
Expires: Sat, 30 Sep 2023 04:26:07 GMT
Source-Age: 2

]
[2023-09-30 09:51:36,240:INFO:main:>>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2023-09-30 09:51:36,241:INFO:main:*******************]
[2023-09-30 09:51:36,241:INFO:main:>>>>>> stage Prepare base model started <<<<<<]
[2023-09-30 09:51:36,245:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 09:51:36,249:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 09:51:36,249:INFO:common:created directory at: artifacts]
[2023-09-30 09:51:36,251:INFO:common:created directory at: artifacts/prepare_base_model]
[2023-09-30 09:54:08,981:WARNING:saving_utils:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2023-09-30 09:54:09,564:INFO:main:>>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2023-09-30 09:54:09,565:INFO:main:*******************]
[2023-09-30 09:54:09,566:INFO:main:>>>>>> stage Training started <<<<<<]
[2023-09-30 09:54:09,575:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 09:54:09,579:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 09:54:09,580:INFO:common:created directory at: artifacts]
[2023-09-30 09:54:09,583:INFO:common:created directory at: artifacts\prepare_callbacks\checkpoint_dir]
[2023-09-30 09:54:09,584:INFO:common:created directory at: artifacts\prepare_callbacks\tensorboard_log_dir]
[2023-09-30 09:54:09,588:ERROR:main:'WindowsPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "main.py", line 40, in <module>
    model_trainer.main()
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\cnnClassifier\pipeline\stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\cnnClassifier\components\prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\cnnClassifier\components\prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\keras\src\callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'WindowsPath' object has no attribute 'endswith'
[2023-09-30 10:14:09,848:INFO:stage_01_data_ingestion:>>>>>> stage Data Ingestion stage started <<<<<<]
[2023-09-30 10:14:09,851:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 10:14:09,853:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 10:14:09,853:INFO:common:created directory at: artifacts]
[2023-09-30 10:14:09,854:INFO:common:created directory at: artifacts/data_ingestion]
[2023-09-30 10:14:09,854:INFO:data_ingestion:File already exists of size: ~ 11345 KB]
[2023-09-30 10:14:10,270:INFO:stage_01_data_ingestion:>>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2023-09-30 10:14:23,937:INFO:stage_02_prepare_base_model:*******************]
[2023-09-30 10:14:23,937:INFO:stage_02_prepare_base_model:>>>>>> stage Prepare base model started <<<<<<]
[2023-09-30 10:14:23,940:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 10:14:23,942:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 10:14:23,943:INFO:common:created directory at: artifacts]
[2023-09-30 10:14:23,943:INFO:common:created directory at: artifacts/prepare_base_model]
[2023-09-30 10:14:24,467:WARNING:saving_utils:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2023-09-30 10:14:24,780:INFO:stage_02_prepare_base_model:>>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2023-09-30 10:14:34,483:INFO:stage_03_training:*******************]
[2023-09-30 10:14:34,484:INFO:stage_03_training:>>>>>> stage Training started <<<<<<]
[2023-09-30 10:14:34,486:INFO:common:yaml file: config\config.yaml loaded successfully]
[2023-09-30 10:14:34,488:INFO:common:yaml file: params.yaml loaded successfully]
[2023-09-30 10:14:34,489:INFO:common:created directory at: artifacts]
[2023-09-30 10:14:34,489:INFO:common:created directory at: artifacts\prepare_callbacks\checkpoint_dir]
[2023-09-30 10:14:34,489:INFO:common:created directory at: artifacts\prepare_callbacks\tensorboard_log_dir]
[2023-09-30 10:14:34,491:ERROR:stage_03_training:'WindowsPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "src/cnnClassifier/pipeline/stage_03_training.py", line 38, in <module>
    obj.main()
  File "src/cnnClassifier/pipeline/stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\cnnClassifier\components\prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\cnnClassifier\components\prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "D:\Program Files\Anaconda\envs\disease\lib\site-packages\keras\src\callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'WindowsPath' object has no attribute 'endswith'
